<div class="container">
  <br />
  <h4>Novi rad</h4>
  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="title">Naslov</label>
    <input type="text" class="form-control" id="title" name="title" [(ngModel)]="application.title" />
  </div>
  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="abstract">Apstract</label>
    <textarea class="form-control" id="abstract" name="abstract" [(ngModel)]="application.paperAbstract">
    </textarea>
  </div>
  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="keyTerms">Kljucne reci</label>
    <textarea class="form-control" id="keyTerms" name="keyTerms" [(ngModel)]="application.keyWords">
    </textarea>
  </div>
  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="coauthors">Koautori</label>
    <select multiple class="form-control w-50" id="coauthors" name="coauthors" [(ngModel)]="application.coauthors">
      <option *ngFor="let author of coauthors" value="{{author.id}}">{{author.lName}}, {{author.fName}}</option>
    </select>
    <button class="btn btn-primary h-25" (click)="newAuthorOpen=!newAuthorOpen">Novi autor</button>
  </div>
  <div *ngIf="newAuthorOpen">
    <div class="form-group w-50 d-flex justify-content-end">
      <label class="form-control-label w-25" for="newAuthorName">Ime</label>
      <input type="text" id="newAuthorName" name="newAuthorName" class="form-control" [(ngModel)]="newAuthor.fName" />
    </div>
    <div class="form-group w-50 d-flex justify-content-end">
      <label class="form-control-label w-25" for="newAuthorSurname">Prezime</label>
      <input type="text" id="newAuthorSurname" name="newAuthorSurname" class="form-control" [(ngModel)]="newAuthor.lName" />
    </div>
    <div class="form-group w-50 d-flex justify-content-end">
      <label class="form-control-label w-25" for="newAuthorEmail">E-mail</label>
      <input type="email" id="newAuthorEmail" name="newAuthorEmail" class="form-control" [(ngModel)]="newAuthor.email" />
    </div>
    <div class="form-group w-50 d-flex justify-content-end">
      <label class="form-control-label w-25" for="newAuthorCity">Grad</label>
      <input type="text" id="newAuthorCity" name="newAuthorCity" class="form-control" [(ngModel)]="newAuthor.city" />
    </div>
    <div class="form-group w-50 d-flex justify-content-end">
      <label class="form-control-label w-25" for="newAuthorCountry">Drzava</label>
      <input type="text" id="newAuthorCountry" name="newAuthorCountry" class="form-control" [(ngModel)]="newAuthor.country" />
    </div>
    <div class="form-group w-50 d-flex justify-content-end">
      <button class="w-100 btn btn-primary" [disabled]="newAuthor.fName=='' || newAuthor.lName=='' || newAuthor.city=='' || newAuthor.country=='' || newAuthor.email==''" (click)="addNewUser()">Dodaj</button>
    </div>
  </div>

  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="coauthors">Casopis</label>
    <select class="form-control" id="magazine" name="magazine" [(ngModel)]="application.magazine" (change)="getFields()">
      <option *ngFor="let magazine of magazines" value="{{magazine.issn}}">{{magazine.name}}</option>
    </select>
  </div>
  <div *ngIf="application.magazine" class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="fields">Oblast</label>
    <select class="form-control" id="field" name="field" [(ngModel)]="application.field">
      <option *ngFor="let field of fields" value="{{field.code}}">{{field.name}}</option>
    </select>
  </div>
  <div class="form-group d-flex justify-content-between">
    <label class="form-control-label w-25" for="file">PDF datoteka</label>
    <input class="form-control" multiple="false" type="file" id="file" name="file" accept="application/pdf" (change)="updateFiles()"/>
  </div>
  <div class="form-group d-flex justify-content-between">
    <button class="btn btn-primary w-100" (click)="submit()" [disabled]="this.application.title === '' || this.application.field == null || this.application.keyWords == '' || this.application.magazine == null || this.application.paperAbstract == '' || fileForm.files.length === 0">Posalji prijavu</button>
  </div>
</div>
